<div class="contact-page">
  <header class="cover">
    <img ngSrc="assets/images/contact.jpg" width="1920" height="350" alt="" class="cover__bg" fetchpriority="high" />
    <div class="cover__inner page-gutter">
      <app-section-title [title]="'Contact'"></app-section-title>
      <p class="lede">Une question ? Un retour ? Écris-nous.</p>
    </div>
  </header>

  <section class="page-gutter grid-2">
    <div class="card info">
      <h3>Coordonnées</h3>
      <ul class="coords">
        <li><img ngSrc="assets/images/icon-pin.png" width="20" height="20" alt=""> 12 rue des Érables, 63100 Montferrand</li>
        <li><img ngSrc="assets/images/icon-mail.png" width="20" height="20" alt=""> contact&#64;bibliomate.fr</li>
        <li><img ngSrc="assets/images/icon-phone.png" width="20" height="20" alt=""> 04 00 00 00 00</li>
        <li><img ngSrc="assets/images/icon-clock.png" width="20" height="20" alt=""> Mar–Sam : 9h–18h</li>
      </ul>

      <div class="inline-cta">
        <app-cta-button text="Nous appeler" color="yellow" icon="call"></app-cta-button>
        <app-cta-button text="Itinéraire" color="yellow" icon="itinerary"></app-cta-button>
      </div>

      <figure class="map" role="img" aria-label="Plan d'accès — Bibliothèque Montferrand">
        <img ngSrc="assets/images/map-placeholder.jpg" width="840" height="420" alt="">
        <figcaption>Plan d’accès (illustration)</figcaption>
      </figure>
    </div>

    <form class="card form" [formGroup]="form" (ngSubmit)="submit()" novalidate>
      <h3>Écrire un message</h3>

      <div class="row">
        <input formControlName="lastName" placeholder="Nom *" [class.invalid]="hasError('lastName')" />
        <input formControlName="firstName" placeholder="Prénom *" [class.invalid]="hasError('firstName')" />
      </div>

      <input formControlName="email" type="email" placeholder="Email *" [class.invalid]="hasError('email')" />
      <input formControlName="subject" placeholder="Sujet *" [class.invalid]="hasError('subject')" />

      <textarea formControlName="message" rows="6" placeholder="Votre message *" [class.invalid]="hasError('message')"></textarea>

      <label class="check">
        <input type="checkbox" formControlName="consent" />
        <span>J’accepte que mes données soient utilisées pour répondre à ma demande.</span>
      </label>

      <div class="actions">
        <button class="styled-button" type="submit" [disabled]="isSubmitting()">Envoyer</button>
        <span class="hint" *ngIf="isSubmitting()">Envoi en cours…</span>
      </div>

      <p class="success" *ngIf="success()">{{ success() }}</p>
      <p class="error" *ngIf="error()">{{ error() }}</p>
    </form>
  </section>
</div>
