<div class="notifications-page">

  <!-- HERO -->
  <header class="notifications-hero">
    <img ngSrc="assets/images/catalog-background.png"
         width="1920" height="300" alt="Notifications"
         class="hero-bg" fetchpriority="high" />

    <div class="page-gutter hero-inner">
      <app-section-title [title]="'Gestion des notifications'"></app-section-title>

      <div class="searchbar-pill">
        <input type="search"
               placeholder="Rechercher un emprunteur ou un livre..."
               [ngModel]="query()"
               (ngModelChange)="query.set($event)"
               (keyup.enter)="search()" />

        <button type="button" class="icon-btn"
                aria-label="Rechercher"
                (click)="search()">
          <img ngSrc="assets/images/icon-search.svg" width="24" height="24" alt="" />
        </button>

        <label class="adv-toggle">
          <span>Recherche avancée</span>
          <input type="checkbox"
                 [checked]="advanced()"
                 (change)="advanced.set($any($event.target).checked)" />
          <i aria-hidden="true"></i>
        </label>
      </div>
    </div>
  </header>

  <!-- Filtres avancés -->
  <form *ngIf="advanced()" class="filters page-gutter" (ngSubmit)="search()">
    <div class="grid">
      <input name="book" placeholder="Titre du livre" />
      <input name="borrower" placeholder="Nom de l’emprunteur" />
      <input name="loanDate" type="date" placeholder="Date d’emprunt" />
      <input name="returnDate" type="date" placeholder="Date de retour" />
    </div>

    <div class="action-row">
      <button type="button" class="styled-button secondary" (click)="resetAll()">Réinitialiser</button>
      <button type="submit" class="styled-button">Rechercher</button>
    </div>
  </form>

  <!-- Tableau -->
  <section class="section-block page-gutter">
    <app-section-title [title]="'Tableau des emprunts en retard'"></app-section-title>

    <div class="action-row">
      <button type="button" class="styled-button"
              (click)="sendBulkReminders()">
        <img ngSrc="assets/images/icon-remind.svg" width="20" height="20" alt="" />
        Envoyer des rappels
      </button>
      <button type="button" class="styled-button secondary"
              (click)="editReminderTemplate()">
        Modifier le message de rappel
      </button>
    </div>

    <app-data-table [columns]="columns" [data]="data()" [actions]="actions"></app-data-table>
  </section>
</div>
