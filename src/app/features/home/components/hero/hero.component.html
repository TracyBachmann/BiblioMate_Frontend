<!-- ================= HERO SECTION ================= -->
<section class="hero" role="region" aria-label="Library introduction">
  <!-- Background image -->
  <img
    ngSrc="assets/images/hero-background-large.webp"
    ngSrcset="assets/images/hero-background-small.webp 400w,
            assets/images/hero-background-medium.webp 800w,
            assets/images/hero-background-large.webp 1200w"
    sizes="(max-width: 600px) 400px,
         (max-width: 1024px) 800px,
         1200px"
    width="1200"
    height="991"
    alt="Bibliothèque de Montferrand"
    loading="eager"
    priority
  />

  <!-- Library logo -->
  <div class="hero__logo">
    <img loading="lazy"
      ngSrc="assets/images/logo.svg"
      width="250"
      height="250"
      alt="Library logo"
    />
  </div>

  <!-- Introductory text box -->
  <div class="hero__text-box">
    <p class="hero__text">
      Bienvenue à la Bibliothèque Montferrand, un lieu dédié à la culture, à la connaissance et au partage.
      Située au cœur de la ville, notre bibliothèque offre un cadre unique pour lire, apprendre et explorer.
      Découvrez un espace chaleureux et inspirant, ouvert à tous.
    </p>
  </div>

  <!-- CTA dropdown (login options) -->
  <!-- Only displayed if the user is NOT authenticated -->
  <div class="hero__cta" [class.is-open]="isCtaOpen" *ngIf="!(auth.isAuthenticated$ | async)">
    <div class="hero__cta-text">Se connecter en tant que</div>

    <!-- Dropdown options (only visible when open) -->
    <ng-container *ngIf="isCtaOpen">
      <!-- Public user option -->
      <a
        routerLink="/connexion"
        class="hero__cta-option"
        [ngClass]="{ 'with-divider partial-divider': !isMobile }"
      >
        Grand public
      </a>
      <!-- Librarian option -->
      <a routerLink="/connexion" class="hero__cta-option">
        Bibliothécaire
      </a>
    </ng-container>

    <!-- Chevron toggle button -->
    <div class="hero__cta-chevron">
      <button
        type="button"
        class="hero__cta-chevron-btn"
        (click)="toggleCta()"
        [class.rotated]="isCtaOpen"
        [attr.aria-expanded]="isCtaOpen"
        aria-controls="heroCtaOptions"
        aria-label="Afficher ou masquer les options de connexion">
        <img loading="lazy" ngSrc="assets/images/icon-chevron.svg" width="30" height="30" alt="" aria-hidden="true" />
      </button>
    </div>
  </div>
</section>
