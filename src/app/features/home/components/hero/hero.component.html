<!-- ================= HERO SECTION ================= -->
<section class="hero" role="region" aria-label="Library introduction">
  <!-- Background image -->
  <picture class="hero__background">
    <source
      type="image/avif"
      srcset="
      assets/images/hero-background-640.avif   640w,
      assets/images/hero-background-1280.avif 1280w,
      assets/images/hero-background-1920.avif 1920w
    "
      sizes="100vw"
    />
    <source
      type="image/webp"
      srcset="
      assets/images/hero-background-640.webp   640w,
      assets/images/hero-background-1280.webp 1280w,
      assets/images/hero-background-1920.webp 1920w
    "
      sizes="100vw"
    />
    <img
      ngSrc="assets/images/hero-background-1280.webp"
    width="1920"
    height="1080"
    alt="Bibliothèque de Montferrand"
    loading="eager"
    fetchpriority="high"
    decoding="async"
    />
  </picture>

  <!-- Library logo -->
  <div class="hero__logo">
    <img
      ngSrc="assets/images/logo.svg"
      width="250"
      height="250"
      alt="Library logo"
    />
  </div>

  <!-- Introductory text box -->
  <div class="hero__text-box">s
    <p class="hero__text">
      Bienvenue à la Bibliothèque Montferrand, un lieu dédié à la culture, à la connaissance et au partage.
      Située au cœur de la ville, notre bibliothèque offre un cadre unique pour lire, apprendre et explorer.
      Découvrez un espace chaleureux et inspirant, ouvert à tous.
    </p>
  </div>

  <!-- CTA dropdown (login options) -->
  <!-- Only displayed if the user is NOT authenticated -->
  <!-- CTA dropdown (login options) -->
  <!-- Only displayed if the user is NOT authenticated -->
  <div class="hero__cta" [class.is-open]="isCtaOpen" *ngIf="!(auth.isAuthenticated$ | async)">
    <div class="hero__cta-text">Se connecter en tant que</div>

    <!-- Options visibles uniquement quand le menu est ouvert -->
    <div class="hero__cta-options" *ngIf="isCtaOpen" id="heroCtaOptions">
      <!-- Public user option -->
      <a
        routerLink="/connexion"
        class="hero__cta-option"
        [ngClass]="{ 'with-divider partial-divider': !isMobile }"
      >
        Grand public
      </a>
      <!-- Librarian option -->
      <a routerLink="/connexion" class="hero__cta-option">
        Bibliothécaire
      </a>
    </div>

    <!-- Chevron toggle button (remplace le <a href="javascript:void(0)">) -->
    <div class="hero__cta-chevron">
      <button
        type="button"
        class="hero__cta-chevron-btn"
        (click)="toggleCta()"
        [class.rotated]="isCtaOpen"
        [attr.aria-expanded]="isCtaOpen"
        aria-controls="heroCtaOptions"
        aria-label="Afficher ou masquer les options de connexion"
      >
        <img
          ngSrc="assets/images/icon-chevron.svg"
          width="30"
          height="30"
          alt=""
          aria-hidden="true"
        />
      </button>
    </div>
  </div>
</section>
