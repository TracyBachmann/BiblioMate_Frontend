<header class="header">
  <!-- Logo + menu toggle -->
  <div class="header__top">
    <button
      #menuToggleButton
      class="header__menu-toggle"
      (click)="toggleMenu()"
      aria-label="Ouvrir le menu latéral"
      [attr.aria-expanded]="isMenuOpen"
    >
      <img ngSrc="assets/images/icon-menu.svg" alt="Menu" width="60" height="60" />
    </button>
    <img
      class="header__logo"
      ngSrc="assets/images/logo.svg"
      alt="BiblioMate Logo"
      width="500"
      height="382"
    />
  </div>

  <nav class="header__nav">
    <a
      *ngFor="let icon of navIcons"
      [href]="icon.href"
      [ngClass]="'header__nav-item ' + icon.class"
      [attr.aria-label]="icon.alt"
    >
      <img [ngSrc]="icon.src" [alt]="icon.alt" width="60" height="60" />
    </a>
  </nav>

  <aside
    class="header__drawer"
    role="dialog"
    aria-modal="true"
    aria-labelledby="drawer-title"
    [class.is-visible]="isMenuOpen"
    (keydown)="handleKeyDown($event)"
  >
    <h2 id="drawer-title" class="visually-hidden">Menu principal</h2>
    <button
      class="header__drawer__close"
      (click)="closeMenu()"
      aria-label="Fermer le menu"
    >
      <img ngSrc="assets/images/icon-fermer.svg" alt="Fermer le menu" height="39" width="39" />
    </button>
    <nav>
      <a
        #drawerFirstLink
        href="#"
        (click)="closeMenu()"
        [class.active]="isActivePage('accueil')"
        [attr.aria-current]="isActivePage('accueil') ? 'page' : null"
      >
        Accueil
      </a>
      <a
        href="#"
        (click)="closeMenu()"
        [class.active]="isActivePage('catalogue')"
        [attr.aria-current]="isActivePage('catalogue') ? 'page' : null"
      >
        Catalogue
      </a>
      <a
        href="#"
        (click)="closeMenu()"
        [class.active]="isActivePage('connexion')"
        [attr.aria-current]="isActivePage('connexion') ? 'page' : null"
      >
        Se connecter
      </a>
      <hr />
      <a href="#" (click)="closeMenu()">Contact</a>
      <a href="#" (click)="closeMenu()">À propos</a>
      <a href="#" (click)="closeMenu()">FAQ</a>
      <a href="#" (click)="closeMenu()">Mentions légales</a>
    </nav>
  </aside>
</header>
